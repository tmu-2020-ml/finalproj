<script lang="ts">
  import { onMount } from 'svelte';
  import { default as vegaEmbed } from 'vega-embed';

  export let id: string;
  export let title: string;

  const dataTitle = [
    'p-value',
    'genes',
    'acc',
    'precision',
    'recall',
    'f1-score',
  ];
  const data = [
    ['0.05', 18459, 0.9424, 0.9368, 1, 0.9674],
    ['0.01', 15715, 0.9448, 0.9395, 1, 0.9688],
    ['0.001', 12595, 0.94, 0.9342, 1, 0.966],
    ['0.0001', 10412, 0.952, 0.9474, 1, 0.973],
    ['1e-05', 8753, 0.9544, 0.95, 1, 0.9744],
    ['1e-06', 7538, 0.9544, 0.95, 1, 0.9744],
    ['1e-07', 6478, 0.9544, 0.95, 1, 0.9744],
    ['1e-08', 5624, 0.9592, 0.9553, 1, 0.9771],
    ['1e-09', 4930, 0.9616, 0.9579, 1, 0.9785],
    ['1e-10', 4248, 0.9616, 0.9579, 1, 0.9785],
    ['1e-11', 3699, 0.9664, 0.9632, 1, 0.9812],
    ['1e-12', 3202, 0.9664, 0.9632, 1, 0.9812],
    ['1e-13', 2781, 0.9688, 0.9658, 1, 0.9826],
    ['1e-14', 2404, 0.9688, 0.9658, 1, 0.9826],
    ['1e-15', 2089, 0.9688, 0.9658, 1, 0.9826],
    ['1e-37', 100, 0.988, 0.9868, 1, 0.9934],
    ['1e-38', 94, 0.988, 0.9868, 1, 0.9934],
    ['1e-39', 85, 0.9856, 0.9895, 0.9947, 0.9921],
    ['1e-40', 79, 0.9856, 0.9895, 0.9947, 0.9921],
    ['1e-41', 71, 0.9808, 0.9895, 0.9895, 0.9895],
  ].map(([pvalue, genes, acc, precision, recall, f1]) => ({
    pvalue,
    genes,
    acc,
    precision,
    recall,
    f1,
  }));

  onMount(() => {
    vegaEmbed(`#${id}`, data, { actions: false }).catch((error) =>
      console.log(error)
    );
  });
</script>

<div {id} />
